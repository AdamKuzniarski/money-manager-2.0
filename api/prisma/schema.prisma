generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"

}


// Art der Transaction: Einnahme | Ausgabe
enum TransactionType {
  INCOME
  EXPENSE
}

model User {
  id Int @id @default(autoincrement())
  email String @unique
  passwordHash String


// Relation: ein User kann viele Transaktionen haben
transactions Transaction[]

createdAt DateTime @default(now())
updatedAt DateTime @updatedAt

}

model Transaction{
  id Int @id @default(autoincrement())

  //Relation zu User 

  userID Int
  user User @relation(fields: [userID], references: [id], onDelete: Cascade)

  // Ticket-Felder
  type TransactionType
  category String
  amount Decimal @db.Decimal(10, 2)
  date DateTime
  note String?

createdAt DateTime @default(now())
updatedAt DateTime @updatedAt

// Index f√ºr typische Queries "alle Tranactionen eines Users nach Datum"
@@index([userID, date])

}